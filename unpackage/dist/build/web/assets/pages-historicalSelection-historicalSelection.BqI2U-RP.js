import{j as t,o as e,c as a,w as s,d as l,m as o,t as n,f as c,F as u,K as i,n as d,h as r,b as A,I as m,L as f,v as _,z as p,A as v,B as g,E as y,s as k,D as x,H as M,J as w,u as C}from"./index-6FKzGDPv.js";import{_ as b,r as E,o as R,b as h,a as I}from"./common.BpUQnyKz.js";import{c as q,_ as B,a as D,b as H}from"./customerService-mask-component.CGE0LYkT.js";const S=b({__name:"historicalCard-component",props:{entityList:Object,time:String,id:String},setup:A=>(t({}),(t,m)=>{const f=r;return e(),a(f,{class:"out"},{default:s((()=>[l(f,{class:"box"},{default:s((()=>[l(f,{class:"title"},{default:s((()=>[l(f,{class:"left"},{default:s((()=>[l(f,{class:"text"},{default:s((()=>[o(n(A.time)+" 入选"+n(A.entityList.length)+"支 ",1)])),_:1})])),_:1}),l(f,{class:"right"},{default:s((()=>[l(f,{class:"box"},{default:s((()=>[l(f,{class:"icon"}),l(f,{class:"text"})])),_:1}),l(f,{class:"box"},{default:s((()=>[l(f,{class:"icon"}),l(f,{class:"text"})])),_:1})])),_:1})])),_:1}),l(f,{class:"tableHead"},{default:s((()=>[l(f,{class:"field"},{default:s((()=>[o("股票简称")])),_:1}),l(f,{class:"field"},{default:s((()=>[o("开盘")])),_:1}),l(f,{class:"field"},{default:s((()=>[o("收盘")])),_:1}),l(f,{class:"field"},{default:s((()=>[o("涨幅")])),_:1}),l(f,{class:"field"},{default:s((()=>[o("成交")])),_:1})])),_:1}),l(f,{class:"tableData"},{default:s((()=>[(e(!0),c(u,null,i(A.entityList,(t=>(e(),a(f,{class:"entity"},{default:s((()=>[l(f,{class:"field share"},{default:s((()=>[l(f,{class:"name"},{default:s((()=>[o(n(t.name),1)])),_:2},1024),l(f,{class:"code"},{default:s((()=>[o(n(t.symbol),1)])),_:2},1024)])),_:2},1024),l(f,{class:"field",style:d({color:t.pct_chg<0?"#5B9244":"#DE433F"})},{default:s((()=>[o(n(Number(t.open).toFixed(2)),1)])),_:2},1032,["style"]),l(f,{class:"field",style:d({color:t.pct_chg<0?"#5B9244":"#DE433F"})},{default:s((()=>[o(n(Number(t.close).toFixed(2)),1)])),_:2},1032,["style"]),l(f,{class:"field",style:d({color:t.pct_chg<0?"#5B9244":"#DE433F"})},{default:s((()=>[o(n(t.pct_chg>0?"+":t.pct_chg<0?"-":"")+n(t.pct_chg)+"% ",1)])),_:2},1032,["style"]),l(f,{class:"field"},{default:s((()=>[o(n(t.vol)+"万",1)])),_:2},1024)])),_:2},1024)))),256))])),_:1})])),_:1})])),_:1})})},[["__scopeId","data-v-c0a1f8f3"]]),N=b({__name:"exportHistory-mask-component",emits:["clonExportHistoryMask","sendMailbox"],setup(n,{emit:c}){const u=c,i=t(""),d=()=>{i.value="",u("clonExportHistoryMask")},f=()=>{u("sendMailbox",i.value)};return(t,n)=>{const c=m,u=r,_=E(A("mask-component"),q);return e(),a(u,{class:"out"},{default:s((()=>[l(_,{onCloneMask:d},{titleText:s((()=>[o(" 导出历史入选 ")])),content:s((()=>[l(u,{class:"mask-component-content"},{default:s((()=>[l(u,{class:"top"},{default:s((()=>[l(c,{type:"text",placeholder:"邮箱地址",class:"input",modelValue:i.value,"onUpdate:modelValue":n[0]||(n[0]=t=>i.value=t)},null,8,["modelValue"])])),_:1}),l(u,{class:"middle"},{default:s((()=>[l(u,{class:"text center"},{default:s((()=>[o(" 通常在10分钟左右收到 ")])),_:1})])),_:1}),l(u,{class:"bottom"},{default:s((()=>[l(u,{class:"button center",onClick:f},{default:s((()=>[o("发送到邮箱")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-50a6574c"]]),V=b({__name:"renewHistory-component",emits:["clonRenewHistoryMask","clickRenew"],setup(n,{emit:c}){const u=c,i=t(""),d=()=>{i.value="",u("clonRenewHistoryMask")},m=()=>{u("clickRenew")};return(t,n)=>{const c=r,u=E(A("mask-component"),q);return e(),a(c,{class:"out"},{default:s((()=>[l(u,{onCloneMask:d},{titleText:s((()=>[o(" 更新历史入选 ")])),content:s((()=>[l(c,{class:"mask-component-content"},{default:s((()=>[l(c,{class:"top"},{default:s((()=>[l(c,{class:"text"},{default:s((()=>[o(" 对于14天以上没有打开的策略，系统会停止跟踪历史股票。 "),f("br"),o(" 您可以手动更新，通常需要10分钟时间。更新成功后，会通过短信通知您。 ")])),_:1})])),_:1}),l(c,{class:"bottom"},{default:s((()=>[l(c,{class:"button center",onClick:m},{default:s((()=>[o("立刻更新")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-bb94413e"]]),F=b({__name:"nowRenewHistory-component",emits:["clonNowRenewHistory"],setup(t,{emit:n}){const c=n,u=()=>{c("clonNowRenewHistory")};return(t,n)=>{const c=_,i=r,d=E(A("mask-component"),q);return e(),a(i,{class:"out"},{default:s((()=>[l(d,{onCloneMask:u},{titleText:s((()=>[o(" 提示 ")])),content:s((()=>[l(i,{class:"mask-component-content"},{default:s((()=>[l(i,{class:"top"},{default:s((()=>[l(i,{class:"image",animation:t.animationData},{default:s((()=>[l(c,{src:"/assets/loadingGif-DIt1YCQ4.gif",mode:"aspectFit"})])),_:1},8,["animation"]),l(i,{class:"text"},{default:s((()=>[o(" 正在更新... ")])),_:1})])),_:1}),l(i,{class:"bottom"},{default:s((()=>[l(i,{class:"text"},{default:s((()=>[o(" 正在为您更新历史入选的股票，请稍等。 更新完成后，会通过短信通知您。 ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-15c5e864"]]),G=b({__name:"historicalSelection",setup(m){const f=t(0);let b=0,q=p().statusBarHeight;b=0==q?35:q,f.value=b+v(80);const G=t("");let K="",Q="";const U=t([]),j=t(!1),Y=t(!1),W=t(!1),L=t(!1);let O="";g((()=>{}));const z=()=>{W.value=!W.value,Y.value=!Y.value;h({header_:{Authorization:K},method_:"GET",url_:"/symbols/update/"+Q+"/history"})},J=t=>{h({header_:{Authorization:K},method_:"GET",url_:"/symbols/exportMail/days/"+O+"/"+t}),k({title:"发送成功!"})},T=t=>{O=t,Y.value=!Y.value},Z=t=>{O=t,j.value=!j.value},X=()=>{C({url:"/pages/strategyDetails/strategyDetails?id="+Q+"&token="+K})};R((t=>{const{id:e,token:a,title:s}=t;G.value=s,Q=e,a?(K=a,y({title:"加载中"}),P(e,a)):k({title:"无法获取数据",icon:"error"})})),setTimeout((()=>{x()}),1500);const P=(t,e)=>{h({header_:{Authorization:e},method_:"GET",url_:"/symbols/list/days/"+t}).then((t=>{const{statusCode:e}=t;200==e?U.value=t.data.data.list:k({title:"无法获取数据",icon:"error"})}))};return(t,m)=>{const p=E(A("stateBar-component"),I),v=E(A("titleBar-component"),B),g=r,y=_,k=E(A("historicalCard-component"),S),x=E(A("customerServiceButton-component"),D),C=E(A("customerService-mask-component"),H),b=E(A("exportHistory-mask-component"),N),R=E(A("renewHistory-component"),V),h=E(A("nowRenewHistory-component"),F);return e(),a(g,{class:"out"},{default:s((()=>[l(g,{class:"head"},{default:s((()=>[l(p),l(v,{onClickRegain:X},{text:s((()=>[o(n(G.value),1)])),_:1})])),_:1}),l(g,{class:"pass",style:d({height:f.value+"px"})},null,8,["style"]),l(g,{class:"background"}),l(g,{class:"title"},{default:s((()=>[l(g,{class:"left"}),l(g,{class:"right"},{default:s((()=>[l(g,{class:"box",onClick:T},{default:s((()=>[l(g,{class:"icon"},{default:s((()=>[l(y,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAKVSURBVDiNrZUxaBRBFIa/NzOEKwJaWEQTrjoxgoWCgsndhulUUFAQLLTQQlBQUNAqggqKhYVpLKxMKTYKNpbr7uZsAoqkULQ44YQDLVJYBG7nnoV7sl4uF1H/Zve92ffNm5n3ZoUR8t5P9Xq9Q6q6B9gKoKptEcmsta/iOF4DiKLojLU2juO43Y+VYcB6vb7fGDMPHB8x7yqwmOf5Q+fcaxFZSJLk7obgRqNxS0TmATdqNYMSkbdJkuwbCo6i6AFwZSBgRVVfAl9EpKKqu4DDwMQg3Fq7M47jT5Szqtfr18pQVV0BLqdpGg8CvPeVbrd7yRhzv+zP8/wMcAvAFB/WjDH3StAl59xMlmXroAD9QxuUiJzuvxuAEEJ5T1vOucNxHH8fFlwkMmWMuTlkqDY7O7sXwHnvKyGEk6XB66OgfanqsWH+sbGxDoDL87whIuOFf9Va+3wzaFGv7VHfGBGZ/j0mzjcD/4mcqm4T+VV1q38LiqLoMXAWQFVvOxFpATGAiHz4pzRLGtrSf6MoilKgUZjn/wvYez8eQvgKVAB6vd4BV8x2XES2AGuq2gHyEEIboNlsft4M3O12LxhjKoXZWVpaWjaFMaGqi6r6hJ/7nVlrW9baVhRFZ0dBZ2ZmpsvNoqqPoOg8a+0iwysiS9N0cQS0Zq19BvT74JtzbgHAArRarbxarW4XkYMDse8mJyfftNvtb2Wn9368Wq1eNMY8FZEdpWxPJUnyDkpV4b2vhRA+DstMVd+LyAo/z6AmIvtZf19fTdN0oW8M3scvgKPAGsUJ/4E6qnouy7KXZacpG6r6sHieUNUjFI2zgdqqettau3sQui5jgLm5uTtJktzo2977iRBCA5gq/iCdEMJys9lcGbWMH2HuC2Xh8pt6AAAAAElFTkSuQmCC",mode:"aspectFit"})])),_:1}),l(g,{class:"text"},{default:s((()=>[o("更新")])),_:1})])),_:1}),l(g,{class:"box",onClick:Z},{default:s((()=>[l(g,{class:"icon"},{default:s((()=>[l(y,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAVCAYAAABCIB6VAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAJnSURBVDiNpZU/aBRBFMa/N28uXmERIcUhV0iwsBCMEMgl7MKUKWxCECIYSSNBjEQRIa1ouqQSSRNBUcEioIWFkma4nRwHWly6FIILpkhhkSLFYW722ezGy2YT4uWr5v2Z3773dnaW0IPCMFwBMANglZkfWWs7+Rz6X+jIyEi1r6/vV2aLSFNrfdNau10IDsNwEsCUiAwAABG9jKJoLQ+u1WqXSqXSz5x7R0RuOeds5tDGGO29fwtgKgVmsRjAGgAYY6pJkkyKyLCIXC5opEJE60EQLDjnlgGAwjCcA/AiTdhNYZvM/AnArvf+GYA5APqkEXXpAzPf1SIym1YZM/OotXYna1lr/Y2IrpwSmGnKez+giehq6ljMoMaYfu/9OoCitk+jmspW3vvvXeuVM0AhIstH5jY2NjaE9EX2oD0AD5xzrw/ASql+AGDm2WM2tYmoJSI/ANwuiMfe+4lGo9ECAFWQcKPbEJEtANPMfKFer49GUTRdsOcrM1/PoEDuCBljyt77ahd0WWu9UPDJ7gCopDlPtdbP8zmHwO12u1IqlQAARPQkiqKlguqQJMmEUmpeRN44577kCvsoIq1D4HK5vOe9B4D39Xq9EAoAGxsbTQDNvH9/f39YKTVOROOHZmyt/Q1gm5kfHgc9SUT07zDkgyJyL33AmXQAJqIqADjnPvcKI6JKNzgGABGZN8ac9qI5ImNMGcD91IwpCIIlInqcwreUUqsi0gJw5K9wjDQRDSVJMpPdOyKySMaY851OxxHRtV6r7ZaIbGqtA47j+M/g4OC7JEnOEdFFAP09MmMReaW1vmOt3fsLcvj+RXKcFwQAAAAASUVORK5CYII=",mode:"aspectFit"})])),_:1}),l(g,{class:"text"},{default:s((()=>[o("导出")])),_:1})])),_:1})])),_:1})])),_:1}),(e(!0),c(u,null,i(U.value,(t=>(e(),a(k,{entityList:t.symbols,time:t.touch_date,onClickRenew:e=>T(t.id),onClickExport:e=>Z(t.id)},null,8,["entityList","time","onClickRenew","onClickExport"])))),256)),l(x,{onCustomerService:m[0]||(m[0]=t=>L.value=!L.value)}),M(l(C,{onCloneCustomerServiceMask:m[1]||(m[1]=t=>L.value=!L.value)},null,512),[[w,L.value]]),M(l(b,{onClonExportHistoryMask:m[2]||(m[2]=t=>j.value=!j.value),onSendMailbox:J},null,512),[[w,j.value]]),M(l(R,{onClonRenewHistoryMask:m[3]||(m[3]=t=>Y.value=!Y.value),onClickRenew:z},null,512),[[w,Y.value]]),M(l(h,{onClonNowRenewHistory:m[4]||(m[4]=t=>W.value=!W.value)},null,512),[[w,W.value]])])),_:1})}}},[["__scopeId","data-v-c2fa3289"]]);export{G as default};
