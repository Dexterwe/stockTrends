import{o as e,c as o,w as s,r as t,n as l,a as n,i as a,b as i,d as c,e as d,f as u,F as r,g as f,I as h,h as p,j as _,k as m,l as y,m as g,t as b,s as v,p as w,q as k,u as x,v as S,x as C,y as $}from"./index-6FKzGDPv.js";import{_ as I,r as B,o as F,a as V,b as z}from"./common.BpUQnyKz.js";const j=[{font_class:"arrow-down",unicode:""},{font_class:"arrow-left",unicode:""},{font_class:"arrow-right",unicode:""},{font_class:"arrow-up",unicode:""},{font_class:"auth",unicode:""},{font_class:"auth-filled",unicode:""},{font_class:"back",unicode:""},{font_class:"bars",unicode:""},{font_class:"calendar",unicode:""},{font_class:"calendar-filled",unicode:""},{font_class:"camera",unicode:""},{font_class:"camera-filled",unicode:""},{font_class:"cart",unicode:""},{font_class:"cart-filled",unicode:""},{font_class:"chat",unicode:""},{font_class:"chat-filled",unicode:""},{font_class:"chatboxes",unicode:""},{font_class:"chatboxes-filled",unicode:""},{font_class:"chatbubble",unicode:""},{font_class:"chatbubble-filled",unicode:""},{font_class:"checkbox",unicode:""},{font_class:"checkbox-filled",unicode:""},{font_class:"checkmarkempty",unicode:""},{font_class:"circle",unicode:""},{font_class:"circle-filled",unicode:""},{font_class:"clear",unicode:""},{font_class:"close",unicode:""},{font_class:"closeempty",unicode:""},{font_class:"cloud-download",unicode:""},{font_class:"cloud-download-filled",unicode:""},{font_class:"cloud-upload",unicode:""},{font_class:"cloud-upload-filled",unicode:""},{font_class:"color",unicode:""},{font_class:"color-filled",unicode:""},{font_class:"compose",unicode:""},{font_class:"contact",unicode:""},{font_class:"contact-filled",unicode:""},{font_class:"down",unicode:""},{font_class:"bottom",unicode:""},{font_class:"download",unicode:""},{font_class:"download-filled",unicode:""},{font_class:"email",unicode:""},{font_class:"email-filled",unicode:""},{font_class:"eye",unicode:""},{font_class:"eye-filled",unicode:""},{font_class:"eye-slash",unicode:""},{font_class:"eye-slash-filled",unicode:""},{font_class:"fire",unicode:""},{font_class:"fire-filled",unicode:""},{font_class:"flag",unicode:""},{font_class:"flag-filled",unicode:""},{font_class:"folder-add",unicode:""},{font_class:"folder-add-filled",unicode:""},{font_class:"font",unicode:""},{font_class:"forward",unicode:""},{font_class:"gear",unicode:""},{font_class:"gear-filled",unicode:""},{font_class:"gift",unicode:""},{font_class:"gift-filled",unicode:""},{font_class:"hand-down",unicode:""},{font_class:"hand-down-filled",unicode:""},{font_class:"hand-up",unicode:""},{font_class:"hand-up-filled",unicode:""},{font_class:"headphones",unicode:""},{font_class:"heart",unicode:""},{font_class:"heart-filled",unicode:""},{font_class:"help",unicode:""},{font_class:"help-filled",unicode:""},{font_class:"home",unicode:""},{font_class:"home-filled",unicode:""},{font_class:"image",unicode:""},{font_class:"image-filled",unicode:""},{font_class:"images",unicode:""},{font_class:"images-filled",unicode:""},{font_class:"info",unicode:""},{font_class:"info-filled",unicode:""},{font_class:"left",unicode:""},{font_class:"link",unicode:""},{font_class:"list",unicode:""},{font_class:"location",unicode:""},{font_class:"location-filled",unicode:""},{font_class:"locked",unicode:""},{font_class:"locked-filled",unicode:""},{font_class:"loop",unicode:""},{font_class:"mail-open",unicode:""},{font_class:"mail-open-filled",unicode:""},{font_class:"map",unicode:""},{font_class:"map-filled",unicode:""},{font_class:"map-pin",unicode:""},{font_class:"map-pin-ellipse",unicode:""},{font_class:"medal",unicode:""},{font_class:"medal-filled",unicode:""},{font_class:"mic",unicode:""},{font_class:"mic-filled",unicode:""},{font_class:"micoff",unicode:""},{font_class:"micoff-filled",unicode:""},{font_class:"minus",unicode:""},{font_class:"minus-filled",unicode:""},{font_class:"more",unicode:""},{font_class:"more-filled",unicode:""},{font_class:"navigate",unicode:""},{font_class:"navigate-filled",unicode:""},{font_class:"notification",unicode:""},{font_class:"notification-filled",unicode:""},{font_class:"paperclip",unicode:""},{font_class:"paperplane",unicode:""},{font_class:"paperplane-filled",unicode:""},{font_class:"person",unicode:""},{font_class:"person-filled",unicode:""},{font_class:"personadd",unicode:""},{font_class:"personadd-filled",unicode:""},{font_class:"personadd-filled-copy",unicode:""},{font_class:"phone",unicode:""},{font_class:"phone-filled",unicode:""},{font_class:"plus",unicode:""},{font_class:"plus-filled",unicode:""},{font_class:"plusempty",unicode:""},{font_class:"pulldown",unicode:""},{font_class:"pyq",unicode:""},{font_class:"qq",unicode:""},{font_class:"redo",unicode:""},{font_class:"redo-filled",unicode:""},{font_class:"refresh",unicode:""},{font_class:"refresh-filled",unicode:""},{font_class:"refreshempty",unicode:""},{font_class:"reload",unicode:""},{font_class:"right",unicode:""},{font_class:"scan",unicode:""},{font_class:"search",unicode:""},{font_class:"settings",unicode:""},{font_class:"settings-filled",unicode:""},{font_class:"shop",unicode:""},{font_class:"shop-filled",unicode:""},{font_class:"smallcircle",unicode:""},{font_class:"smallcircle-filled",unicode:""},{font_class:"sound",unicode:""},{font_class:"sound-filled",unicode:""},{font_class:"spinner-cycle",unicode:""},{font_class:"staff",unicode:""},{font_class:"staff-filled",unicode:""},{font_class:"star",unicode:""},{font_class:"star-filled",unicode:""},{font_class:"starhalf",unicode:""},{font_class:"trash",unicode:""},{font_class:"trash-filled",unicode:""},{font_class:"tune",unicode:""},{font_class:"tune-filled",unicode:""},{font_class:"undo",unicode:""},{font_class:"undo-filled",unicode:""},{font_class:"up",unicode:""},{font_class:"top",unicode:""},{font_class:"upload",unicode:""},{font_class:"upload-filled",unicode:""},{font_class:"videocam",unicode:""},{font_class:"videocam-filled",unicode:""},{font_class:"vip",unicode:""},{font_class:"vip-filled",unicode:""},{font_class:"wallet",unicode:""},{font_class:"wallet-filled",unicode:""},{font_class:"weibo",unicode:""},{font_class:"weixin",unicode:""}];const P=I({name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""},fontFamily:{type:String,default:""}},data:()=>({icons:j}),computed:{unicode(){let e=this.icons.find((e=>e.font_class===this.type));return e?e.unicode:""},iconSize(){return"number"==typeof(e=this.size)||/^[0-9]*$/g.test(e)?e+"px":e;var e},styleObj(){return""!==this.fontFamily?`color: ${this.color}; font-size: ${this.iconSize}; font-family: ${this.fontFamily};`:`color: ${this.color}; font-size: ${this.iconSize};`}},methods:{_onClick(){this.$emit("click")}}},[["render",function(i,c,d,u,r,f){const h=a;return e(),o(h,{style:l(f.styleObj),class:n(["uni-icons",["uniui-"+d.type,d.customPrefix,d.customPrefix?d.type:""]]),onClick:f._onClick},{default:s((()=>[t(i.$slots,"default",{},void 0,!0)])),_:3},8,["style","class","onClick"])}],["__scopeId","data-v-5610c8db"]]);function M(e){let o="";for(let s in e){o+=`${s}:${e[s]};`}return o}const E=I({name:"uni-easyinput",emits:["click","iconClick","update:modelValue","input","focus","blur","confirm","clear","eyes","change","keyboardheightchange"],model:{prop:"modelValue",event:"update:modelValue"},options:{virtualHost:!0},inject:{form:{from:"uniForm",default:null},formItem:{from:"uniFormItem",default:null}},props:{name:String,value:[Number,String],modelValue:[Number,String],type:{type:String,default:"text"},clearable:{type:Boolean,default:!0},autoHeight:{type:Boolean,default:!1},placeholder:{type:String,default:" "},placeholderStyle:String,focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},maxlength:{type:[Number,String],default:140},confirmType:{type:String,default:"done"},clearSize:{type:[Number,String],default:24},inputBorder:{type:Boolean,default:!0},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},trim:{type:[Boolean,String],default:!1},cursorSpacing:{type:Number,default:0},passwordIcon:{type:Boolean,default:!0},adjustPosition:{type:Boolean,default:!0},primaryColor:{type:String,default:"#2979ff"},styles:{type:Object,default:()=>({color:"#333",backgroundColor:"#fff",disableColor:"#F7F6F6",borderColor:"#e5e5e5"})},errorMessage:{type:[String,Boolean],default:""}},data:()=>({focused:!1,val:"",showMsg:"",border:!1,isFirstBorder:!1,showClearIcon:!1,showPassword:!1,focusShow:!1,localMsg:"",isEnter:!1}),computed:{isVal(){const e=this.val;return!(!e&&0!==e)},msg(){return this.localMsg||this.errorMessage},inputMaxlength(){return Number(this.maxlength)},boxStyle(){return`color:${this.inputBorder&&this.msg?"#e43d33":this.styles.color};`},inputContentClass(){return function(e){let o="";for(let s in e)e[s]&&(o+=`${s} `);return o}({"is-input-border":this.inputBorder,"is-input-error-border":this.inputBorder&&this.msg,"is-textarea":"textarea"===this.type,"is-disabled":this.disabled,"is-focused":this.focusShow})},inputContentStyle(){const e=this.focusShow?this.primaryColor:this.styles.borderColor;return M({"border-color":(this.inputBorder&&this.msg?"#dd524d":e)||"#e5e5e5","background-color":this.disabled?this.styles.disableColor:this.styles.backgroundColor})},inputStyle(){return M({"padding-right":"password"===this.type||this.clearable||this.prefixIcon?"":"10px","padding-left":this.prefixIcon?"":"10px"})}},watch:{value(e){this.val=e},modelValue(e){this.val=e},focus(e){this.$nextTick((()=>{this.focused=this.focus,this.focusShow=this.focus}))}},created(){this.init(),this.form&&this.formItem&&this.$watch("formItem.errMsg",(e=>{this.localMsg=e}))},mounted(){this.$nextTick((()=>{this.focused=this.focus,this.focusShow=this.focus}))},methods:{init(){this.value||0===this.value?this.val=this.value:this.modelValue||0===this.modelValue||""===this.modelValue?this.val=this.modelValue:this.val=null},onClickIcon(e){this.$emit("iconClick",e)},onEyes(){this.showPassword=!this.showPassword,this.$emit("eyes",this.showPassword)},onInput(e){let o=e.detail.value;this.trim&&("boolean"==typeof this.trim&&this.trim&&(o=this.trimStr(o)),"string"==typeof this.trim&&(o=this.trimStr(o,this.trim))),this.errMsg&&(this.errMsg=""),this.val=o,this.$emit("input",o),this.$emit("update:modelValue",o)},onFocus(){this.$nextTick((()=>{this.focused=!0})),this.$emit("focus",null)},_Focus(e){this.focusShow=!0,this.$emit("focus",e)},onBlur(){this.focused=!1,this.$emit("blur",null)},_Blur(e){if(e.detail.value,this.focusShow=!1,this.$emit("blur",e),!1===this.isEnter&&this.$emit("change",this.val),this.form&&this.formItem){const{validateTrigger:e}=this.form;"blur"===e&&this.formItem.onFieldChange()}},onConfirm(e){this.$emit("confirm",this.val),this.isEnter=!0,this.$emit("change",this.val),this.$nextTick((()=>{this.isEnter=!1}))},onClear(e){this.val="",this.$emit("input",""),this.$emit("update:modelValue",""),this.$emit("clear")},onkeyboardheightchange(e){this.$emit("keyboardheightchange",e)},trimStr:(e,o="both")=>"both"===o?e.trim():"left"===o?e.trimLeft():"right"===o?e.trimRight():"start"===o?e.trimStart():"end"===o?e.trimEnd():"all"===o?e.replace(/\s+/g,""):e}},[["render",function(a,_,m,y,g,b){const v=B(i("uni-icons"),P),w=f,k=h,x=p;return e(),o(x,{class:n(["uni-easyinput",{"uni-easyinput-error":b.msg}]),style:l(b.boxStyle)},{default:s((()=>[c(x,{class:n(["uni-easyinput__content",b.inputContentClass]),style:l(b.inputContentStyle)},{default:s((()=>[m.prefixIcon?(e(),o(v,{key:0,class:"content-clear-icon",type:m.prefixIcon,color:"#c0c4cc",onClick:_[0]||(_[0]=e=>b.onClickIcon("prefix")),size:"22"},null,8,["type"])):d("",!0),t(a.$slots,"left",{},void 0,!0),"textarea"===m.type?(e(),o(w,{key:1,class:n(["uni-easyinput__content-textarea",{"input-padding":m.inputBorder}]),name:m.name,value:g.val,placeholder:m.placeholder,placeholderStyle:m.placeholderStyle,disabled:m.disabled,"placeholder-class":"uni-easyinput__placeholder-class",maxlength:b.inputMaxlength,focus:g.focused,autoHeight:m.autoHeight,"cursor-spacing":m.cursorSpacing,"adjust-position":m.adjustPosition,onInput:b.onInput,onBlur:b._Blur,onFocus:b._Focus,onConfirm:b.onConfirm,onKeyboardheightchange:b.onkeyboardheightchange},null,8,["class","name","value","placeholder","placeholderStyle","disabled","maxlength","focus","autoHeight","cursor-spacing","adjust-position","onInput","onBlur","onFocus","onConfirm","onKeyboardheightchange"])):(e(),o(k,{key:2,type:"password"===m.type?"text":m.type,class:"uni-easyinput__content-input",style:l(b.inputStyle),name:m.name,value:g.val,password:!g.showPassword&&"password"===m.type,placeholder:m.placeholder,placeholderStyle:m.placeholderStyle,"placeholder-class":"uni-easyinput__placeholder-class",disabled:m.disabled,maxlength:b.inputMaxlength,focus:g.focused,confirmType:m.confirmType,"cursor-spacing":m.cursorSpacing,"adjust-position":m.adjustPosition,onFocus:b._Focus,onBlur:b._Blur,onInput:b.onInput,onConfirm:b.onConfirm,onKeyboardheightchange:b.onkeyboardheightchange},null,8,["type","style","name","value","password","placeholder","placeholderStyle","disabled","maxlength","focus","confirmType","cursor-spacing","adjust-position","onFocus","onBlur","onInput","onConfirm","onKeyboardheightchange"])),"password"===m.type&&m.passwordIcon?(e(),u(r,{key:3},[b.isVal?(e(),o(v,{key:0,class:n(["content-clear-icon",{"is-textarea-icon":"textarea"===m.type}]),type:g.showPassword?"eye-slash-filled":"eye-filled",size:22,color:g.focusShow?m.primaryColor:"#c0c4cc",onClick:b.onEyes},null,8,["class","type","color","onClick"])):d("",!0)],64)):d("",!0),m.suffixIcon?(e(),u(r,{key:4},[m.suffixIcon?(e(),o(v,{key:0,class:"content-clear-icon",type:m.suffixIcon,color:"#c0c4cc",onClick:_[1]||(_[1]=e=>b.onClickIcon("suffix")),size:"22"},null,8,["type"])):d("",!0)],64)):(e(),u(r,{key:5},[m.clearable&&b.isVal&&!m.disabled&&"textarea"!==m.type?(e(),o(v,{key:0,class:n(["content-clear-icon",{"is-textarea-icon":"textarea"===m.type}]),type:"clear",size:m.clearSize,color:b.msg?"#dd524d":g.focusShow?m.primaryColor:"#c0c4cc",onClick:b.onClear},null,8,["class","size","color","onClick"])):d("",!0)],64)),t(a.$slots,"right",{},void 0,!0)])),_:3},8,["class","style"])])),_:3},8,["class","style"])}],["__scopeId","data-v-5763a810"]]),T=I({__name:"index",setup(t){const l=_(""),n=_(""),d=_(!0),u=_(!0),r=_(0),f=_(""),h=m((()=>r.value%2==0?"../../static/images/passwordShow.png":"../../static/images/passwordNotShow.png")),I=async function(){v({title:"加载中",icon:"loading"});const e=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(n.value),o=/^1[3-9]\d{9}$/.test(l.value);if(!e||!o)return void(f.value="电话或密码格式不正确");const s={data_:{phone:l.value,password:n.value},method_:"POST",url_:"/authorizations"};z(s).then((e=>{const{statusCode:o}=e;if(200!=o)f.value="电话或密码错误";else{const{meta:{access_token:o}}=e.data.data,s="Bearer"+o;d.value?(w("token",s),w("phone",l.value),w("password",n.value)):k("token"),x({url:"/pages/strategyList/strategyList?token="+s})}}))};F((e=>{if(y("token")){const e=y("phone"),o=y("password");l.value=e,n.value=o}}));const j=function(){r.value++,u.value=!u.value};return(t,r)=>{const _=B(i("stateBar-component"),V),m=p,y=a,v=B(i("uni-easyinput"),E),w=S,k=C,x=$;return e(),o(m,{class:"main"},{default:s((()=>[c(_),c(m,{class:"pass0"}),c(m,{class:"logOn"},{default:s((()=>[c(m,{class:"title1"},{default:s((()=>[c(y,null,{default:s((()=>[g("登录")])),_:1})])),_:1}),c(m,{class:"title2"},{default:s((()=>[c(y,null,{default:s((()=>[g("请登录以获得独家服务")])),_:1})])),_:1})])),_:1}),c(m,{class:"pass1"},{default:s((()=>[c(m,{class:"prompt"},{default:s((()=>[g(b(f.value),1)])),_:1})])),_:1}),c(m,{class:"form"},{default:s((()=>[c(m,{class:"input1"},{default:s((()=>[c(v,{class:"phone",type:"text",modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=e=>l.value=e),placeholder:"手机号",styles:{width:"100%",height:"100%"},inputBorder:!1,clearable:!1},null,8,["modelValue"])])),_:1}),c(m,{class:"input2"},{default:s((()=>[c(v,{class:"password",type:u.value?"password":"text",modelValue:n.value,"onUpdate:modelValue":r[1]||(r[1]=e=>n.value=e),placeholder:"至少8位包含大小写字母和数字的密码",styles:{},inputBorder:!1,passwordIcon:!1,clearable:!1},null,8,["type","modelValue"]),c(m,{class:"image",onClick:j},{default:s((()=>[c(w,{src:h.value,mode:"aspectFit"},null,8,["src"])])),_:1})])),_:1}),c(m,{class:"box_checkbox"},{default:s((()=>[c(k,{class:"checkbox",color:"#E93030",borderColor:"#E93030",activeBorderColor:"#E93030",checked:d.value},null,8,["checked"]),c(m,{class:"context"},{default:s((()=>[c(y,null,{default:s((()=>[g("记住我")])),_:1})])),_:1})])),_:1}),c(m,{class:"button"},{default:s((()=>[c(x,{class:"box",onClick:I},{default:s((()=>[g("登录")])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-c16452b6"]]);export{T as default};
